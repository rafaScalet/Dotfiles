[tools]
usage = 'latest'
watchexec = "latest"
node = '22'
deno = '2'
bun = '1'
pnpm = '10'
yarn = '4'
java = '17'
maven = '3'
gradle = '8'
aws-cli = 'latest'
rust = 'latest'

[[env]]
_.file = '~/.env'
_.path = '{{ cwd }}/node_modules/.bin'
_.source = '{{ cwd }}/bin/activate'

[[env]]
_.file = '{{ cwd }}/.env'
_.source = '{{ cwd }}/.venv/bin/activate'

[tasks.exec-java]
description = "runs a simple java project"
run = "java -cp dist"

[tasks.build-java]
description = "builds a simple java project"
run = "javac -d dist ./src/**/*.java"

[tasks.build-jar]
run = 'jar cfm "$(basename "$PWD").jar" "$(find . -type f -iname "manifest.mf" | head -n 1)" -C dist .'
description = "generates a .jar file for a simple java project"

[tasks.exec-jar]
run = 'java -jar "$(basename "$PWD")".jar'
description = "execute the jar file generated by build-jar"

[tasks.py-venv]
description = "create a python virtual environment"
run = "python -m venv .venv"
alias = "pv"
